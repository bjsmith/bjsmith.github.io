<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.27.1" />
  <meta name="author" content="Ben Smith">
  <meta name="description" content="PhD Candidate">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Ben Smith">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Ben Smith">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="/post/geom_hdi_for_ggplot2.knit/">

  

  <title>Making a confidence interval ggplot2 `geom` | Ben Smith</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Ben Smith</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">Making a confidence interval ggplot2 `geom`</h1>
    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2017-09-23 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Sep 23, 2017
    </time>
  </span>

  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fgeom_hdi_for_ggplot2.knit%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Making%20a%20confidence%20interval%20ggplot2%20%60geom%60&amp;url=%2fpost%2fgeom_hdi_for_ggplot2.knit%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fgeom_hdi_for_ggplot2.knit%2f&amp;title=Making%20a%20confidence%20interval%20ggplot2%20%60geom%60"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fgeom_hdi_for_ggplot2.knit%2f&amp;title=Making%20a%20confidence%20interval%20ggplot2%20%60geom%60"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Making%20a%20confidence%20interval%20ggplot2%20%60geom%60&amp;body=%2fpost%2fgeom_hdi_for_ggplot2.knit%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      

<p>For evaluating posteriors in Bayesian analysis it is pretty common to draw a &ldquo;Highest Density Interval&rdquo; to indicate the zone of highest (consecutive) density within a distribution, which may be plotted in a scatter plot or a histogram or density plot or similar.</p>

<p>When working in ggplot, you&rsquo;ll often add multiple layers to your graph in the form of &ldquo;geoms&rdquo;: for instance, a <code>geom_point</code> to show a scatterplot, which you could overlay with geom_abline to draw a trendline through the points.</p>

<p>But there&rsquo;s no <code>geom</code> to draw any kind of confidence interval of a distribution on a graph. I suppose that wanting to see the density on a plot is a fairly niche thing.</p>

<p>I created a <code>geom_hdi</code> for use in ggplot. I briefly explain here how that happened; you can find the <a href="https://github.com/bjsmith/reversallearning/blob/master/visualization/geom_hdi.R" target="_blank">geom_hdi file on github</a>. Using <code>geom_hdi</code>, you can show the distribution at any arbitrary set. It has some functionality with plotly and works with multiple groups. Keep in mind I&rsquo;ve developed this for my own use, so if you want to use it, you may have to tweak to improve for your own application to ensure it works correctly!</p>

<p>A word of warning: the &ldquo;Highest Density Interval&rdquo; is similar but not the same as a &ldquo;Confidence Interval&rdquo;. I&rsquo;d advise against using <code>geom_hdi</code> to plot confidence intervals on your data as it may not represent exactly the same thing.</p>

<h2 id="inspiration">Inspiration</h2>

<p>I used the <code>ggalt</code> package&rsquo;s <a href="https://rud.is/b/2015/09/08/roll-your-own-stats-and-geoms-in-ggplot2-part-1-splines/" target="_blank">xspline</a> <a href="https://rud.is/b/2015/09/08/roll-your-own-stats-and-geoms-in-ggplot2-part-1-splines/" target="_blank">tutorial</a> to get going. It was simple enough to copy the xspline package and go.</p>

<p>There were minimal changes needed here.</p>

<h2 id="creating-your-own-ggplot-geom">Creating your own ggplot <code>geom</code></h2>

<p>Let me describe how I created <code>geom_hdi</code>. You can follow along the steps to create your own <code>geom</code>.</p>

<h3 id="drawing-the-basic-hdi">Drawing the basic HDI</h3>

<p>First of all, I took a look at some basic data:</p>

<pre><code class="language-r">library(ggplot2)
set.seed(42)
dat&lt;-data.frame(&quot;x&quot;=c(rnorm(1000,0,1)))

ggplot(dat, aes(x=x)) +
   geom_histogram(binwidth=0.1)
</code></pre>

<p><img src="geom_hdi_for_ggplot2_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>

<p>So far, so good. How would we do a 95% HDI in this data? Before we dive in and create the <code>geom</code>, let&rsquo;s draw it manually. We can use this code later to build the <code>geom</code> itself. <code>geom_segment</code> is a good basic, flexible geom which would allow us to draw a line. We can specify <code>x</code>, <code>y</code>, <code>xend</code>, and <code>yend</code> to control the precise look of the line.</p>

<p>But before we draw the HDI we need to know where to put it! The <code>hBayesDM</code> package has a suitable HDI calculator, so we&rsquo;ll use that.</p>

<pre><code class="language-r">dat.hdi&lt;-hBayesDM::HDIofMCMC(dat$x)
</code></pre>

<pre><code>## 
## This is package 'modeest' written by P. PONCET.
## For a complete list of functions, use 'library(help = &quot;modeest&quot;)' or 'help.start()'.
</code></pre>

<p>Cool cool. And now pass it in to our graph. I&rsquo;m happy enough to put it right on the x-axis:</p>

<pre><code class="language-r">ggplot(dat, aes(x=x)) +
   geom_histogram(binwidth=0.1)+
  geom_segment(x=dat.hdi[1],xend=dat.hdi[2],y=0,yend=0)
</code></pre>

<p><img src="geom_hdi_for_ggplot2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>

<p>That&rsquo;s a little hard to see, so we can draw it with some appropriate properties:</p>

<pre><code class="language-r">ggplot(dat, aes(x=x)) +
   geom_histogram(binwidth=0.1)+
  geom_segment(x=dat.hdi[1],xend=dat.hdi[2],y=0,yend=0,color=&quot;blue&quot;,size=2,lineend=&quot;round&quot;)
</code></pre>

<p><img src="geom_hdi_for_ggplot2_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>

<p>Seems good. Now, let&rsquo;s say we want to do this with a whole bunch of graphs; maybe we want multiple HDIs on each graph, pertaining to different groups, and we want the properties of the line to automatically follow the properties (e.g., color) we set for different groups.</p>

<p>How can we encapsulate this functionality in a single <code>geom</code>?</p>

<h2 id="writing-the-geom">Writing the geom.</h2>

<p>Here is what I have created. This has been taken right from the excellent guide <a href="https://rud.is/b/2015/09/08/roll-your-own-stats-and-geoms-in-ggplot2-part-1-splines/" target="_blank">here</a>. If you find it helpful, you can compare the <code>geom_xspline</code> code there with my <code>geom_hdi</code> to work out on your own what you&rsquo;d need to modify to create your own.</p>

<p>There are just two functions and two wrapper calls to create the necessary <code>ggproto</code> objects we need to do to get the <code>geom</code> off the ground. One gives you the &ldquo;<code>geom</code>&rdquo; specification and the other gives you the <code>stat</code> specification.</p>

<pre><code class="language-r">geom_hdi &lt;- function(mapping = NULL, data = NULL, stat = &quot;hdi&quot;,
                         position = &quot;identity&quot;, na.rm = TRUE, show.legend = NA,
                         inherit.aes = TRUE,
                     credible_mass=0.95, ...) {
  layer(
  `geom` = GeomHdi,
    mapping = mapping,
    data = data,
    stat = stat,
    position = position,
    show.legend = show.legend,
    inherit.aes = inherit.aes,
    params = list(credible_mass=credible_mass,
                  ...)
  )
}

GeomHdi &lt;- ggproto(&quot;GeomHdi&quot;, GeomSegment,
                       required_aes = c(&quot;x&quot;),
                       default_aes = aes(colour = &quot;black&quot;, size = 0.5, linetype = 1, alpha = NA)
)

stat_hdi &lt;- function(mapping = NULL, data = NULL, `geom` = &quot;segment&quot;,
                         position = &quot;identity&quot;, na.rm = TRUE, show.legend = NA, inherit.aes = TRUE,
                     credible_mass=0.95, ...) {
  layer(
    stat = StatHdi,
    data = data,
    mapping = mapping,
    `geom` = `geom`,
    position = position,
    show.legend = show.legend,
    inherit.aes = inherit.aes,
    params = list(credible_mass=credible_mass,
                  ...
    )
  )
}

StatHdi &lt;- ggproto(&quot;StatHdi&quot;, Stat,
                       
                       required_aes = c(&quot;x&quot;),
                       
                       compute_group = function(self, data, scales, params,
                                                credible_mass=0.95) {
                         require(hBayesDM)
                         hdi.data&lt;-HDIofMCMC(data$x,credible_mass)
                         data.frame(x=hdi.data[1],xend=hdi.data[2],y=0,yend=0)
                       }
)
</code></pre>

<p>To go from <code>geom_xspline</code> to <code>geom_hdi</code>, I followed these steps:</p>

<ol>
<li>went through and replaced all mentions of &ldquo;xspline&rdquo; with the name of my <code>geom</code>, hdi, taking care to do a <em>case-sensitive</em> replace.</li>
<li>then replaced all mentions of &ldquo;XSpline&rdquo; with &ldquo;Hdi&rdquo;, following convention to capitalize where appropriate. One thing that tripped me up is that for some reason, the <code>geom</code> wouldn&rsquo;t generate correctly when I spelled with three capital letters, &ldquo;HDI&rdquo;! I am not sure why this was, but it was no great sacrifice to go with the &lsquo;camelcase&rsquo; &ldquo;HDI&rdquo; style.</li>
<li>had to replace each of the custom arguments here with my own. <code>geom_hdi</code> has just one custom argument, <code>credible_mass</code>. If you are creating your own <code>geom</code> from this, all you&rsquo;d need to do is find whereever I mention <code>credible_mass</code> here and replace it with your own argument or set of arguments.</li>
<li>The easiest way to build a new <code>geom</code> is to build on top of a more basic <code>geom</code>. For instance, my <code>geom</code> above is built on <code>geom_segment</code>; that is set in the <code>geom</code> argument in the <code>stat_hdi</code> function. <code>geom_xspline</code>, on the other hand, was built on top of <code>geom_line</code> and passed &lsquo;line&rsquo; into the <code>geom</code> argument of the equivalent <code>stat_xspline</code> function. When building your own <code>geom</code>, pick whichever more basic element suits you and build on top of that.</li>
<li>Finally, I modified the <code>compute_group</code> function near the end to transform the arguments passed into my own <code>geom_hdi</code> into arguments that would draw an HDI using the more basic <code>geom_segment</code>. I used the <code>hBayesDM::HDIofMCMC</code> function to transform x values into an HDI. By default, this is a 95% HDI, but you can set whichever values you like. At the end of the <code>compute_group</code> function, you want to pass a data frame that will go straight to the more basic <code>geom</code> to draw.</li>
</ol>

<h2 id="result">Result</h2>

<p>This is already better than the geom we hand-drew. It can now be used to draw in HDIs for multiple groups:</p>

<pre><code class="language-r">set.seed(42)
 heights.usa&lt;-data.frame(&quot;height&quot;=c(rnorm(10000,176,7),rnorm(10000,162,6)),
                 &quot;people&quot;=c(rep(&quot;Men&quot;,10000),rep(&quot;Women&quot;,10000)))

#https://biology.stackexchange.com/questions/9730/what-is-the-standard-deviation-of-adult-human-heights-for-males-and-females
#https://en.wikipedia.org/wiki/List_of_average_human_height_worldwide

height.plot&lt;-ggplot(heights.usa, aes(x=height, group=people, fill=factor(people),color=factor(people))) +
 geom_freqpoly(binwidth=1)+
 geom_hdi(aes(color=people),lineend=&quot;round&quot;,size=2,credible_mass=0.95,alpha=0.8)+
 labs(title=&quot;US adult height distribution by gender\nCount per 10,000 adults&quot;,x=&quot;height (cm)&quot;)

height.plot
</code></pre>

<p><img src="geom_hdi_for_ggplot2_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>

<p>With a bit of work, we could have the function stagger these hdis if you didn&rsquo;t want them lying on top of each other.</p>

<p>However, my priority was to get this looking nice in plotly! This required a little extra work.</p>

<h2 id="modification-for-plotly">Modification for plotly</h2>

<p>The plotly documentation itself describes <a href="https://plotly-book.cpsievert.me/translating-custom-ggplot2-geoms.html#fig:xspline" target="_blank">how to modify your custom geoms to work in polotly</a>. Plotly graphs are pretty darn cool; take a look at this:</p>

<pre><code class="language-r"> plotly::ggplotly(height.plot)
</code></pre>

<pre><code>## Warning: We recommend that you use the dev version of ggplot2 with `ggplotly()`
## Install it with: `devtools::install_github('hadley/ggplot2')`
</code></pre>

<pre><code>## Warning in geom2trace.default(dots[[1L]][[1L]], dots[[2L]][[1L]], dots[[3L]][[1L]]): geom_GeomHdi() has yet to be implemented in plotly.
##   If you'd like to see this geom implemented,
##   Please open an issue with your example code at
##   https://github.com/ropensci/plotly/issues
</code></pre>

<pre><code>## Warning in geom2trace.default(dots[[1L]][[2L]], dots[[2L]][[1L]], dots[[3L]][[1L]]): geom_GeomHdi() has yet to be implemented in plotly.
##   If you'd like to see this geom implemented,
##   Please open an issue with your example code at
##   https://github.com/ropensci/plotly/issues
</code></pre>

<p><!--html_preserve--><div id="2a3657dd01ee" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="2a3657dd01ee">{&ldquo;x&rdquo;:{&ldquo;data&rdquo;:[{&ldquo;x&rdquo;:[140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207],&ldquo;y&rdquo;:[0,0,0,0,0,0,0,0,1,0,0,0,1,1,6,10,7,16,18,37,42,62,74,123,145,166,201,250,311,363,419,377,460,507,605,547,539,596,555,504,484,444,394,339,254,270,214,154,135,92,88,47,51,33,20,13,6,6,3,6,2,1,0,0,0,0,1,0],&ldquo;text&rdquo;:[&ldquo;count:   0<br />height: 140<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 141<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 142<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 143<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 144<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 145<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 146<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 147<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 148<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 149<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 150<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 151<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 152<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 153<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 154<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  10<br />height: 155<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   7<br />height: 156<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  16<br />height: 157<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  18<br />height: 158<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  37<br />height: 159<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  42<br />height: 160<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  62<br />height: 161<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  74<br />height: 162<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 123<br />height: 163<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 145<br />height: 164<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 166<br />height: 165<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 201<br />height: 166<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 250<br />height: 167<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 311<br />height: 168<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 363<br />height: 169<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 419<br />height: 170<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 377<br />height: 171<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 460<br />height: 172<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 507<br />height: 173<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 605<br />height: 174<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 547<br />height: 175<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 539<br />height: 176<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 596<br />height: 177<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 555<br />height: 178<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 504<br />height: 179<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 484<br />height: 180<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 444<br />height: 181<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 394<br />height: 182<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 339<br />height: 183<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 254<br />height: 184<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 270<br />height: 185<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 214<br />height: 186<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 154<br />height: 187<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 135<br />height: 188<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  92<br />height: 189<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  88<br />height: 190<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  47<br />height: 191<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  51<br />height: 192<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  33<br />height: 193<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  20<br />height: 194<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  13<br />height: 195<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 196<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 197<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   3<br />height: 198<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 199<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   2<br />height: 200<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 201<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 202<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 203<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 204<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 205<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 206<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 207<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;],&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:1.88976377952756,&ldquo;color&rdquo;:&ldquo;rgba(248,118,109,1)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Men&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Men&rdquo;,&ldquo;showlegend&rdquo;:true,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207],&ldquo;y&rdquo;:[0,2,2,7,12,10,21,22,45,70,106,123,182,226,263,328,386,459,534,571,635,628,705,670,591,578,549,442,463,295,266,207,175,139,101,63,40,37,20,10,8,4,3,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],&ldquo;text&rdquo;:[&ldquo;count:   0<br />height: 140<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   2<br />height: 141<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   2<br />height: 142<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   7<br />height: 143<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  12<br />height: 144<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  10<br />height: 145<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  21<br />height: 146<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  22<br />height: 147<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  45<br />height: 148<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  70<br />height: 149<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 106<br />height: 150<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 123<br />height: 151<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 182<br />height: 152<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 226<br />height: 153<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 263<br />height: 154<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 328<br />height: 155<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 386<br />height: 156<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 459<br />height: 157<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 534<br />height: 158<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 571<br />height: 159<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 635<br />height: 160<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 628<br />height: 161<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 705<br />height: 162<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 670<br />height: 163<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 591<br />height: 164<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 578<br />height: 165<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 549<br />height: 166<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 442<br />height: 167<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 463<br />height: 168<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 295<br />height: 169<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 266<br />height: 170<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 207<br />height: 171<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 175<br />height: 172<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 139<br />height: 173<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 101<br />height: 174<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  63<br />height: 175<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  40<br />height: 176<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  37<br />height: 177<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  20<br />height: 178<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  10<br />height: 179<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   8<br />height: 180<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   4<br />height: 181<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   3<br />height: 182<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   1<br />height: 183<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   1<br />height: 184<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 185<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 186<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 187<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 188<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 189<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 190<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 191<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 192<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 193<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 194<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 195<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 196<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 197<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 198<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 199<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 200<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 201<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 202<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 203<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 204<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 205<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 206<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 207<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;],&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:1.88976377952756,&ldquo;color&rdquo;:&ldquo;rgba(0,191,196,1)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Women&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Women&rdquo;,&ldquo;showlegend&rdquo;:true,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;name&rdquo;:&ldquo;Men&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Men&rdquo;,&ldquo;showlegend&rdquo;:false,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;name&rdquo;:&ldquo;Women&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Women&rdquo;,&ldquo;showlegend&rdquo;:false,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null}],&ldquo;layout&rdquo;:{&ldquo;margin&rdquo;:{&ldquo;t&rdquo;:43.7625570776256,&ldquo;r&rdquo;:7.30593607305936,&ldquo;b&rdquo;:40.1826484018265,&ldquo;l&rdquo;:43.1050228310502},&ldquo;plot_bgcolor&rdquo;:&ldquo;rgba(235,235,235,1)&rdquo;,&ldquo;paper_bgcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;title&rdquo;:&ldquo;US adult height distribution by gender<br />Count per 10,000 adults&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:17.5342465753425},&ldquo;xaxis&rdquo;:{&ldquo;domain&rdquo;:[0,1],&ldquo;type&rdquo;:&ldquo;linear&rdquo;,&ldquo;autorange&rdquo;:false,&ldquo;tickmode&rdquo;:&ldquo;array&rdquo;,&ldquo;range&rdquo;:[136.1,210.9],&ldquo;ticktext&rdquo;:[&ldquo;140&rdquo;,&ldquo;160&rdquo;,&ldquo;180&rdquo;,&ldquo;200&rdquo;],&ldquo;tickvals&rdquo;:[140,160,180,200],&ldquo;ticks&rdquo;:&ldquo;outside&rdquo;,&ldquo;tickcolor&rdquo;:&ldquo;rgba(51,51,51,1)&rdquo;,&ldquo;ticklen&rdquo;:3.65296803652968,&ldquo;tickwidth&rdquo;:0.66417600664176,&ldquo;showticklabels&rdquo;:true,&ldquo;tickfont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(77,77,77,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;tickangle&rdquo;:-0,&ldquo;showline&rdquo;:false,&ldquo;linecolor&rdquo;:null,&ldquo;linewidth&rdquo;:0,&ldquo;showgrid&rdquo;:true,&ldquo;gridcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;gridwidth&rdquo;:0.66417600664176,&ldquo;zeroline&rdquo;:false,&ldquo;anchor&rdquo;:&ldquo;y&rdquo;,&ldquo;title&rdquo;:&ldquo;height (cm)&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;hoverformat&rdquo;:&ldquo;.2f&rdquo;},&ldquo;yaxis&rdquo;:{&ldquo;domain&rdquo;:[0,1],&ldquo;type&rdquo;:&ldquo;linear&rdquo;,&ldquo;autorange&rdquo;:false,&ldquo;tickmode&rdquo;:&ldquo;array&rdquo;,&ldquo;range&rdquo;:[-35.25,740.25],&ldquo;ticktext&rdquo;:[&ldquo;0&rdquo;,&ldquo;200&rdquo;,&ldquo;400&rdquo;,&ldquo;600&rdquo;],&ldquo;tickvals&rdquo;:[0,200,400,600],&ldquo;ticks&rdquo;:&ldquo;outside&rdquo;,&ldquo;tickcolor&rdquo;:&ldquo;rgba(51,51,51,1)&rdquo;,&ldquo;ticklen&rdquo;:3.65296803652968,&ldquo;tickwidth&rdquo;:0.66417600664176,&ldquo;showticklabels&rdquo;:true,&ldquo;tickfont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(77,77,77,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;tickangle&rdquo;:-0,&ldquo;showline&rdquo;:false,&ldquo;linecolor&rdquo;:null,&ldquo;linewidth&rdquo;:0,&ldquo;showgrid&rdquo;:true,&ldquo;gridcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;gridwidth&rdquo;:0.66417600664176,&ldquo;zeroline&rdquo;:false,&ldquo;anchor&rdquo;:&ldquo;x&rdquo;,&ldquo;title&rdquo;:&ldquo;count&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;hoverformat&rdquo;:&ldquo;.2f&rdquo;},&ldquo;shapes&rdquo;:[{&ldquo;type&rdquo;:&ldquo;rect&rdquo;,&ldquo;fillcolor&rdquo;:null,&ldquo;line&rdquo;:{&ldquo;color&rdquo;:null,&ldquo;width&rdquo;:0,&ldquo;linetype&rdquo;:[]},&ldquo;yref&rdquo;:&ldquo;paper&rdquo;,&ldquo;xref&rdquo;:&ldquo;paper&rdquo;,&ldquo;x0&rdquo;:0,&ldquo;x1&rdquo;:1,&ldquo;y0&rdquo;:0,&ldquo;y1&rdquo;:1}],&ldquo;showlegend&rdquo;:true,&ldquo;legend&rdquo;:{&ldquo;bgcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;bordercolor&rdquo;:&ldquo;transparent&rdquo;,&ldquo;borderwidth&rdquo;:1.88976377952756,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;y&rdquo;:0.93503937007874},&ldquo;annotations&rdquo;:[{&ldquo;text&rdquo;:&ldquo;factor(people)&rdquo;,&ldquo;x&rdquo;:1.02,&ldquo;y&rdquo;:1,&ldquo;showarrow&rdquo;:false,&ldquo;ax&rdquo;:0,&ldquo;ay&rdquo;:0,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;xref&rdquo;:&ldquo;paper&rdquo;,&ldquo;yref&rdquo;:&ldquo;paper&rdquo;,&ldquo;textangle&rdquo;:-0,&ldquo;xanchor&rdquo;:&ldquo;left&rdquo;,&ldquo;yanchor&rdquo;:&ldquo;bottom&rdquo;,&ldquo;legendTitle&rdquo;:true}],&ldquo;hovermode&rdquo;:&ldquo;closest&rdquo;},&ldquo;source&rdquo;:&ldquo;A&rdquo;,&ldquo;attrs&rdquo;:{&ldquo;2a3679d9aebb&rdquo;:{&ldquo;x&rdquo;:{},&ldquo;fill&rdquo;:{},&ldquo;colour&rdquo;:{},&ldquo;type&rdquo;:&ldquo;ggplotly&rdquo;},&ldquo;2a36425eb57c&rdquo;:{&ldquo;colour&rdquo;:{},&ldquo;x&rdquo;:{},&ldquo;fill&rdquo;:{},&ldquo;colour.1&rdquo;:{}}},&ldquo;cur_data&rdquo;:&ldquo;2a3679d9aebb&rdquo;,&ldquo;visdat&rdquo;:{&ldquo;2a3679d9aebb&rdquo;:[&ldquo;function (y) &ldquo;,&ldquo;x&rdquo;],&ldquo;2a36425eb57c&rdquo;:[&ldquo;function (y) &ldquo;,&ldquo;x&rdquo;]},&ldquo;config&rdquo;:{&ldquo;modeBarButtonsToAdd&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Collaborate&rdquo;,&ldquo;icon&rdquo;:{&ldquo;width&rdquo;:1000,&ldquo;ascent&rdquo;:500,&ldquo;descent&rdquo;:-50,&ldquo;path&rdquo;:&ldquo;M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z&rdquo;},&ldquo;click&rdquo;:&ldquo;function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == &lsquo;?viewer_pane=1&rsquo;) {\n          alert(&lsquo;To learn about plotly for collaboration, visit:\n <a href="https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');n" target="_blank">https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');n</a>        } else {\n          window.open(&lsquo;<a href="https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html'" target="_blank">https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html'</a>, &lsquo;_blank&rsquo;);\n        }\n      }&ldquo;}],&ldquo;cloud&rdquo;:false},&ldquo;highlight&rdquo;:{&ldquo;on&rdquo;:&ldquo;plotly_click&rdquo;,&ldquo;persistent&rdquo;:false,&ldquo;dynamic&rdquo;:false,&ldquo;selectize&rdquo;:false,&ldquo;opacityDim&rdquo;:0.2,&ldquo;selected&rdquo;:{&ldquo;opacity&rdquo;:1}},&ldquo;base_url&rdquo;:&ldquo;<a href="https://plot.ly&quot;},&quot;evals&quot;:[&quot;config.modeBarButtonsToAdd.0.click&quot;],&quot;jsHooks&quot;:{&quot;render&quot;:[{&quot;code&quot;:&quot;function(el" target="_blank">https://plot.ly&quot;},&quot;evals&quot;:[&quot;config.modeBarButtonsToAdd.0.click&quot;],&quot;jsHooks&quot;:{&quot;render&quot;:[{&quot;code&quot;:&quot;function(el</a>, x) { var ctConfig = crosstalk.var(&lsquo;plotlyCrosstalkOpts&rsquo;).set({\&ldquo;on\&rdquo;:\&ldquo;plotly_click\&ldquo;,\&ldquo;persistent\&rdquo;:false,\&ldquo;dynamic\&rdquo;:false,\&ldquo;selectize\&rdquo;:false,\&ldquo;opacityDim\&rdquo;:0.2,\&ldquo;selected\&rdquo;:{\&ldquo;opacity\&rdquo;:1}}); }&ldquo;,&ldquo;data&rdquo;:null}]}}</script><!--/html_preserve--></p>

<p>So you might notice here that my <code>geom_hdi</code> doesn&rsquo;t display! That&rsquo;ll take a little extra work - just one more function!</p>

<pre><code class="language-r">to_basic.GeomHdi&lt;-function (data, prestats_data, layout, params, p, ...) 
{
  require(tidyr)

  #x positions                      
  d&lt;-tidyr::gather(data,xposinline,x,x:xend)
  
  #draw in appropriate y positions
  d$y&lt;-0
  dline&lt;-d

  structure(dline, class = unique(c(&quot;GeomPath&quot;, class(dline))))
}
</code></pre>

<p>You want that function name to start with <code>to_basic.</code> followed by the name of the ggproto object you created above, mine being <code>GeomHdi</code>. Everything in that function is designed to transform the GeomHDI into a format that plotly can recognize.</p>

<p>Unfortunately, plotly doesn&rsquo;t have support for GeomSegment, so I was unable to pass the code above directly to plotly. However, plotly does support geom_path. The format for geom_path is slightly different. For this, we&rsquo;d create one row in the data for each <em>point</em>, not each line.</p>

<p>A little transformation with <code>tidyr::gather</code> will do that trick to get the x start position and finish position into the same line. The y positions would potentially get more complicated, but in my case, because I was placing every HDI right on <code>y=0</code>, I could just add in one line setting every y position to 0.</p>

<p>Let&rsquo;s try that ggplotly HDI again:</p>

<pre><code class="language-r"> plotly::ggplotly(height.plot)
</code></pre>

<p><!--html_preserve--><div id="2a363e8492c8" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="2a363e8492c8">{&ldquo;x&rdquo;:{&ldquo;data&rdquo;:[{&ldquo;x&rdquo;:[140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207],&ldquo;y&rdquo;:[0,0,0,0,0,0,0,0,1,0,0,0,1,1,6,10,7,16,18,37,42,62,74,123,145,166,201,250,311,363,419,377,460,507,605,547,539,596,555,504,484,444,394,339,254,270,214,154,135,92,88,47,51,33,20,13,6,6,3,6,2,1,0,0,0,0,1,0],&ldquo;text&rdquo;:[&ldquo;count:   0<br />height: 140<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 141<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 142<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 143<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 144<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 145<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 146<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 147<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 148<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 149<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 150<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 151<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 152<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 153<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 154<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  10<br />height: 155<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   7<br />height: 156<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  16<br />height: 157<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  18<br />height: 158<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  37<br />height: 159<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  42<br />height: 160<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  62<br />height: 161<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  74<br />height: 162<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 123<br />height: 163<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 145<br />height: 164<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 166<br />height: 165<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 201<br />height: 166<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 250<br />height: 167<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 311<br />height: 168<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 363<br />height: 169<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 419<br />height: 170<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 377<br />height: 171<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 460<br />height: 172<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 507<br />height: 173<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 605<br />height: 174<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 547<br />height: 175<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 539<br />height: 176<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 596<br />height: 177<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 555<br />height: 178<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 504<br />height: 179<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 484<br />height: 180<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 444<br />height: 181<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 394<br />height: 182<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 339<br />height: 183<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 254<br />height: 184<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 270<br />height: 185<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 214<br />height: 186<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 154<br />height: 187<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 135<br />height: 188<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  92<br />height: 189<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  88<br />height: 190<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  47<br />height: 191<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  51<br />height: 192<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  33<br />height: 193<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  20<br />height: 194<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  13<br />height: 195<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 196<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 197<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   3<br />height: 198<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 199<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   2<br />height: 200<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 201<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 202<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 203<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 204<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 205<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 206<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 207<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;],&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:1.88976377952756,&ldquo;color&rdquo;:&ldquo;rgba(248,118,109,1)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Men&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Men&rdquo;,&ldquo;showlegend&rdquo;:true,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207],&ldquo;y&rdquo;:[0,2,2,7,12,10,21,22,45,70,106,123,182,226,263,328,386,459,534,571,635,628,705,670,591,578,549,442,463,295,266,207,175,139,101,63,40,37,20,10,8,4,3,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],&ldquo;text&rdquo;:[&ldquo;count:   0<br />height: 140<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   2<br />height: 141<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   2<br />height: 142<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   7<br />height: 143<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  12<br />height: 144<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  10<br />height: 145<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  21<br />height: 146<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  22<br />height: 147<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  45<br />height: 148<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  70<br />height: 149<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 106<br />height: 150<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 123<br />height: 151<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 182<br />height: 152<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 226<br />height: 153<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 263<br />height: 154<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 328<br />height: 155<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 386<br />height: 156<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 459<br />height: 157<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 534<br />height: 158<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 571<br />height: 159<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 635<br />height: 160<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 628<br />height: 161<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 705<br />height: 162<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 670<br />height: 163<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 591<br />height: 164<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 578<br />height: 165<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 549<br />height: 166<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 442<br />height: 167<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 463<br />height: 168<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 295<br />height: 169<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 266<br />height: 170<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 207<br />height: 171<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 175<br />height: 172<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 139<br />height: 173<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 101<br />height: 174<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  63<br />height: 175<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  40<br />height: 176<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  37<br />height: 177<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  20<br />height: 178<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  10<br />height: 179<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   8<br />height: 180<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   4<br />height: 181<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   3<br />height: 182<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   1<br />height: 183<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   1<br />height: 184<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 185<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 186<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 187<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 188<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 189<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 190<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 191<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 192<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 193<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 194<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 195<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 196<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 197<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 198<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 199<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 200<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 201<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 202<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 203<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 204<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 205<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 206<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 207<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;],&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:1.88976377952756,&ldquo;color&rdquo;:&ldquo;rgba(0,191,196,1)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Women&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Women&rdquo;,&ldquo;showlegend&rdquo;:true,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[162.525346987616,190.013985618547],&ldquo;y&rdquo;:[0,0],&ldquo;text&rdquo;:&ldquo;people: Men<br />height: 162.5253<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:7.55905511811024,&ldquo;color&rdquo;:&ldquo;rgba(248,118,109,0.8)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Men&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Men&rdquo;,&ldquo;showlegend&rdquo;:false,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[150.012508338659,173.725197436994],&ldquo;y&rdquo;:[0,0],&ldquo;text&rdquo;:&ldquo;people: Women<br />height: 150.0125<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:7.55905511811024,&ldquo;color&rdquo;:&ldquo;rgba(0,191,196,0.8)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Women&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Women&rdquo;,&ldquo;showlegend&rdquo;:false,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null}],&ldquo;layout&rdquo;:{&ldquo;margin&rdquo;:{&ldquo;t&rdquo;:43.7625570776256,&ldquo;r&rdquo;:7.30593607305936,&ldquo;b&rdquo;:40.1826484018265,&ldquo;l&rdquo;:43.1050228310502},&ldquo;plot_bgcolor&rdquo;:&ldquo;rgba(235,235,235,1)&rdquo;,&ldquo;paper_bgcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;title&rdquo;:&ldquo;US adult height distribution by gender<br />Count per 10,000 adults&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:17.5342465753425},&ldquo;xaxis&rdquo;:{&ldquo;domain&rdquo;:[0,1],&ldquo;type&rdquo;:&ldquo;linear&rdquo;,&ldquo;autorange&rdquo;:false,&ldquo;tickmode&rdquo;:&ldquo;array&rdquo;,&ldquo;range&rdquo;:[136.1,210.9],&ldquo;ticktext&rdquo;:[&ldquo;140&rdquo;,&ldquo;160&rdquo;,&ldquo;180&rdquo;,&ldquo;200&rdquo;],&ldquo;tickvals&rdquo;:[140,160,180,200],&ldquo;ticks&rdquo;:&ldquo;outside&rdquo;,&ldquo;tickcolor&rdquo;:&ldquo;rgba(51,51,51,1)&rdquo;,&ldquo;ticklen&rdquo;:3.65296803652968,&ldquo;tickwidth&rdquo;:0.66417600664176,&ldquo;showticklabels&rdquo;:true,&ldquo;tickfont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(77,77,77,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;tickangle&rdquo;:-0,&ldquo;showline&rdquo;:false,&ldquo;linecolor&rdquo;:null,&ldquo;linewidth&rdquo;:0,&ldquo;showgrid&rdquo;:true,&ldquo;gridcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;gridwidth&rdquo;:0.66417600664176,&ldquo;zeroline&rdquo;:false,&ldquo;anchor&rdquo;:&ldquo;y&rdquo;,&ldquo;title&rdquo;:&ldquo;height (cm)&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;hoverformat&rdquo;:&ldquo;.2f&rdquo;},&ldquo;yaxis&rdquo;:{&ldquo;domain&rdquo;:[0,1],&ldquo;type&rdquo;:&ldquo;linear&rdquo;,&ldquo;autorange&rdquo;:false,&ldquo;tickmode&rdquo;:&ldquo;array&rdquo;,&ldquo;range&rdquo;:[-35.25,740.25],&ldquo;ticktext&rdquo;:[&ldquo;0&rdquo;,&ldquo;200&rdquo;,&ldquo;400&rdquo;,&ldquo;600&rdquo;],&ldquo;tickvals&rdquo;:[0,200,400,600],&ldquo;ticks&rdquo;:&ldquo;outside&rdquo;,&ldquo;tickcolor&rdquo;:&ldquo;rgba(51,51,51,1)&rdquo;,&ldquo;ticklen&rdquo;:3.65296803652968,&ldquo;tickwidth&rdquo;:0.66417600664176,&ldquo;showticklabels&rdquo;:true,&ldquo;tickfont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(77,77,77,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;tickangle&rdquo;:-0,&ldquo;showline&rdquo;:false,&ldquo;linecolor&rdquo;:null,&ldquo;linewidth&rdquo;:0,&ldquo;showgrid&rdquo;:true,&ldquo;gridcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;gridwidth&rdquo;:0.66417600664176,&ldquo;zeroline&rdquo;:false,&ldquo;anchor&rdquo;:&ldquo;x&rdquo;,&ldquo;title&rdquo;:&ldquo;count&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;hoverformat&rdquo;:&ldquo;.2f&rdquo;},&ldquo;shapes&rdquo;:[{&ldquo;type&rdquo;:&ldquo;rect&rdquo;,&ldquo;fillcolor&rdquo;:null,&ldquo;line&rdquo;:{&ldquo;color&rdquo;:null,&ldquo;width&rdquo;:0,&ldquo;linetype&rdquo;:[]},&ldquo;yref&rdquo;:&ldquo;paper&rdquo;,&ldquo;xref&rdquo;:&ldquo;paper&rdquo;,&ldquo;x0&rdquo;:0,&ldquo;x1&rdquo;:1,&ldquo;y0&rdquo;:0,&ldquo;y1&rdquo;:1}],&ldquo;showlegend&rdquo;:true,&ldquo;legend&rdquo;:{&ldquo;bgcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;bordercolor&rdquo;:&ldquo;transparent&rdquo;,&ldquo;borderwidth&rdquo;:1.88976377952756,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;y&rdquo;:0.93503937007874},&ldquo;annotations&rdquo;:[{&ldquo;text&rdquo;:&ldquo;factor(people)&rdquo;,&ldquo;x&rdquo;:1.02,&ldquo;y&rdquo;:1,&ldquo;showarrow&rdquo;:false,&ldquo;ax&rdquo;:0,&ldquo;ay&rdquo;:0,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;xref&rdquo;:&ldquo;paper&rdquo;,&ldquo;yref&rdquo;:&ldquo;paper&rdquo;,&ldquo;textangle&rdquo;:-0,&ldquo;xanchor&rdquo;:&ldquo;left&rdquo;,&ldquo;yanchor&rdquo;:&ldquo;bottom&rdquo;,&ldquo;legendTitle&rdquo;:true}],&ldquo;hovermode&rdquo;:&ldquo;closest&rdquo;},&ldquo;source&rdquo;:&ldquo;A&rdquo;,&ldquo;attrs&rdquo;:{&ldquo;2a3616cb9e99&rdquo;:{&ldquo;x&rdquo;:{},&ldquo;fill&rdquo;:{},&ldquo;colour&rdquo;:{},&ldquo;type&rdquo;:&ldquo;ggplotly&rdquo;},&ldquo;2a3612195a80&rdquo;:{&ldquo;colour&rdquo;:{},&ldquo;x&rdquo;:{},&ldquo;fill&rdquo;:{},&ldquo;colour.1&rdquo;:{}}},&ldquo;cur_data&rdquo;:&ldquo;2a3616cb9e99&rdquo;,&ldquo;visdat&rdquo;:{&ldquo;2a3616cb9e99&rdquo;:[&ldquo;function (y) &ldquo;,&ldquo;x&rdquo;],&ldquo;2a3612195a80&rdquo;:[&ldquo;function (y) &ldquo;,&ldquo;x&rdquo;]},&ldquo;config&rdquo;:{&ldquo;modeBarButtonsToAdd&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Collaborate&rdquo;,&ldquo;icon&rdquo;:{&ldquo;width&rdquo;:1000,&ldquo;ascent&rdquo;:500,&ldquo;descent&rdquo;:-50,&ldquo;path&rdquo;:&ldquo;M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z&rdquo;},&ldquo;click&rdquo;:&ldquo;function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == &lsquo;?viewer_pane=1&rsquo;) {\n          alert(&lsquo;To learn about plotly for collaboration, visit:\n <a href="https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');n" target="_blank">https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');n</a>        } else {\n          window.open(&lsquo;<a href="https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html'" target="_blank">https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html'</a>, &lsquo;_blank&rsquo;);\n        }\n      }&ldquo;}],&ldquo;cloud&rdquo;:false},&ldquo;highlight&rdquo;:{&ldquo;on&rdquo;:&ldquo;plotly_click&rdquo;,&ldquo;persistent&rdquo;:false,&ldquo;dynamic&rdquo;:false,&ldquo;selectize&rdquo;:false,&ldquo;opacityDim&rdquo;:0.2,&ldquo;selected&rdquo;:{&ldquo;opacity&rdquo;:1}},&ldquo;base_url&rdquo;:&ldquo;<a href="https://plot.ly&quot;},&quot;evals&quot;:[&quot;config.modeBarButtonsToAdd.0.click&quot;],&quot;jsHooks&quot;:{&quot;render&quot;:[{&quot;code&quot;:&quot;function(el" target="_blank">https://plot.ly&quot;},&quot;evals&quot;:[&quot;config.modeBarButtonsToAdd.0.click&quot;],&quot;jsHooks&quot;:{&quot;render&quot;:[{&quot;code&quot;:&quot;function(el</a>, x) { var ctConfig = crosstalk.var(&lsquo;plotlyCrosstalkOpts&rsquo;).set({\&ldquo;on\&rdquo;:\&ldquo;plotly_click\&ldquo;,\&ldquo;persistent\&rdquo;:false,\&ldquo;dynamic\&rdquo;:false,\&ldquo;selectize\&rdquo;:false,\&ldquo;opacityDim\&rdquo;:0.2,\&ldquo;selected\&rdquo;:{\&ldquo;opacity\&rdquo;:1}}); }&ldquo;,&ldquo;data&rdquo;:null}]}}</script><!--/html_preserve--></p>

<p>Getting there! But hover over our HDIs: the printed x-coordinates are broken. Wouldn&rsquo;t it be nice to show the actual HDI coordinates on that hover? Yes it would! So we can edit the data <code>hovertext</code> property to display that. We use the params array to find what the x axis is called (it might not always be called &ldquo;x&rdquo;)</p>

<pre><code class="language-r">to_basic.GeomHdi&lt;-function (data, prestats_data, layout, params, p, ...) 
{
  require(tidyr)
  #put a confidence interval into the hovertext
  data$hovertext&lt;-apply(data,1,
                        function(r){
                          sub(paste0(params$hoverTextAes[[&quot;x&quot;]],&quot;: -?\\d+(.\\d+)?(e\\d+)?&quot;),
                              paste0(params$hoverTextAes[[&quot;x&quot;]],&quot;: [&quot;,signif(as.numeric(r[[&quot;x&quot;]]),4),&quot;, &quot;,
                                     signif(as.numeric(r[[&quot;xend&quot;]],4)),&quot;]&quot;),r[[&quot;hovertext&quot;]])
                        })
  #x positions                      
  d&lt;-tidyr::gather(data,xposinline,x,x:xend)
  
  #draw in appropriate y positions
  d$y&lt;-0
  dline&lt;-d

  structure(dline, class = unique(c(&quot;GeomPath&quot;, class(dline))))
}
</code></pre>

<p>The hovertext transform uses regex to convert the default hovertext that <code>plotly</code> creates for points on a line into hovertext which describes a density interval.</p>

<pre><code class="language-r"> plotly::ggplotly(height.plot)
</code></pre>

<p><!--html_preserve--><div id="2a365307b041" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="2a365307b041">{&ldquo;x&rdquo;:{&ldquo;data&rdquo;:[{&ldquo;x&rdquo;:[140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207],&ldquo;y&rdquo;:[0,0,0,0,0,0,0,0,1,0,0,0,1,1,6,10,7,16,18,37,42,62,74,123,145,166,201,250,311,363,419,377,460,507,605,547,539,596,555,504,484,444,394,339,254,270,214,154,135,92,88,47,51,33,20,13,6,6,3,6,2,1,0,0,0,0,1,0],&ldquo;text&rdquo;:[&ldquo;count:   0<br />height: 140<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 141<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 142<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 143<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 144<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 145<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 146<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 147<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 148<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 149<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 150<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 151<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 152<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 153<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 154<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  10<br />height: 155<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   7<br />height: 156<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  16<br />height: 157<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  18<br />height: 158<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  37<br />height: 159<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  42<br />height: 160<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  62<br />height: 161<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  74<br />height: 162<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 123<br />height: 163<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 145<br />height: 164<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 166<br />height: 165<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 201<br />height: 166<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 250<br />height: 167<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 311<br />height: 168<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 363<br />height: 169<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 419<br />height: 170<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 377<br />height: 171<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 460<br />height: 172<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 507<br />height: 173<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 605<br />height: 174<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 547<br />height: 175<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 539<br />height: 176<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 596<br />height: 177<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 555<br />height: 178<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 504<br />height: 179<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 484<br />height: 180<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 444<br />height: 181<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 394<br />height: 182<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 339<br />height: 183<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 254<br />height: 184<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 270<br />height: 185<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 214<br />height: 186<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 154<br />height: 187<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count: 135<br />height: 188<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  92<br />height: 189<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  88<br />height: 190<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  47<br />height: 191<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  51<br />height: 192<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  33<br />height: 193<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  20<br />height: 194<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:  13<br />height: 195<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 196<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 197<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   3<br />height: 198<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   6<br />height: 199<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   2<br />height: 200<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 201<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 202<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 203<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 204<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 205<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   1<br />height: 206<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;count:   0<br />height: 207<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;],&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:1.88976377952756,&ldquo;color&rdquo;:&ldquo;rgba(248,118,109,1)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Men&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Men&rdquo;,&ldquo;showlegend&rdquo;:true,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207],&ldquo;y&rdquo;:[0,2,2,7,12,10,21,22,45,70,106,123,182,226,263,328,386,459,534,571,635,628,705,670,591,578,549,442,463,295,266,207,175,139,101,63,40,37,20,10,8,4,3,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],&ldquo;text&rdquo;:[&ldquo;count:   0<br />height: 140<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   2<br />height: 141<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   2<br />height: 142<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   7<br />height: 143<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  12<br />height: 144<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  10<br />height: 145<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  21<br />height: 146<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  22<br />height: 147<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  45<br />height: 148<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  70<br />height: 149<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 106<br />height: 150<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 123<br />height: 151<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 182<br />height: 152<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 226<br />height: 153<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 263<br />height: 154<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 328<br />height: 155<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 386<br />height: 156<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 459<br />height: 157<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 534<br />height: 158<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 571<br />height: 159<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 635<br />height: 160<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 628<br />height: 161<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 705<br />height: 162<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 670<br />height: 163<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 591<br />height: 164<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 578<br />height: 165<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 549<br />height: 166<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 442<br />height: 167<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 463<br />height: 168<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 295<br />height: 169<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 266<br />height: 170<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 207<br />height: 171<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 175<br />height: 172<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 139<br />height: 173<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count: 101<br />height: 174<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  63<br />height: 175<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  40<br />height: 176<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  37<br />height: 177<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  20<br />height: 178<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:  10<br />height: 179<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   8<br />height: 180<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   4<br />height: 181<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   3<br />height: 182<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   1<br />height: 183<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   1<br />height: 184<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 185<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 186<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 187<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 188<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 189<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 190<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 191<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 192<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 193<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 194<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 195<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 196<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 197<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 198<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 199<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 200<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 201<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 202<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 203<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 204<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 205<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 206<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;count:   0<br />height: 207<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;],&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:1.88976377952756,&ldquo;color&rdquo;:&ldquo;rgba(0,191,196,1)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Women&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Women&rdquo;,&ldquo;showlegend&rdquo;:true,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[162.525346987616,190.013985618547],&ldquo;y&rdquo;:[0,0],&ldquo;text&rdquo;:&ldquo;people: Men<br />height: [162.5, 190.014]<br />people: Men<br />factor(people): Men<br />factor(people): Men&rdquo;,&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:7.55905511811024,&ldquo;color&rdquo;:&ldquo;rgba(248,118,109,0.8)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Men&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Men&rdquo;,&ldquo;showlegend&rdquo;:false,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null},{&ldquo;x&rdquo;:[150.012508338659,173.725197436994],&ldquo;y&rdquo;:[0,0],&ldquo;text&rdquo;:&ldquo;people: Women<br />height: [150, 173.725]<br />people: Women<br />factor(people): Women<br />factor(people): Women&rdquo;,&ldquo;type&rdquo;:&ldquo;scatter&rdquo;,&ldquo;mode&rdquo;:&ldquo;lines&rdquo;,&ldquo;line&rdquo;:{&ldquo;width&rdquo;:7.55905511811024,&ldquo;color&rdquo;:&ldquo;rgba(0,191,196,0.8)&rdquo;,&ldquo;dash&rdquo;:&ldquo;solid&rdquo;},&ldquo;hoveron&rdquo;:&ldquo;points&rdquo;,&ldquo;name&rdquo;:&ldquo;Women&rdquo;,&ldquo;legendgroup&rdquo;:&ldquo;Women&rdquo;,&ldquo;showlegend&rdquo;:false,&ldquo;xaxis&rdquo;:&ldquo;x&rdquo;,&ldquo;yaxis&rdquo;:&ldquo;y&rdquo;,&ldquo;hoverinfo&rdquo;:&ldquo;text&rdquo;,&ldquo;frame&rdquo;:null}],&ldquo;layout&rdquo;:{&ldquo;margin&rdquo;:{&ldquo;t&rdquo;:43.7625570776256,&ldquo;r&rdquo;:7.30593607305936,&ldquo;b&rdquo;:40.1826484018265,&ldquo;l&rdquo;:43.1050228310502},&ldquo;plot_bgcolor&rdquo;:&ldquo;rgba(235,235,235,1)&rdquo;,&ldquo;paper_bgcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;title&rdquo;:&ldquo;US adult height distribution by gender<br />Count per 10,000 adults&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:17.5342465753425},&ldquo;xaxis&rdquo;:{&ldquo;domain&rdquo;:[0,1],&ldquo;type&rdquo;:&ldquo;linear&rdquo;,&ldquo;autorange&rdquo;:false,&ldquo;tickmode&rdquo;:&ldquo;array&rdquo;,&ldquo;range&rdquo;:[136.1,210.9],&ldquo;ticktext&rdquo;:[&ldquo;140&rdquo;,&ldquo;160&rdquo;,&ldquo;180&rdquo;,&ldquo;200&rdquo;],&ldquo;tickvals&rdquo;:[140,160,180,200],&ldquo;ticks&rdquo;:&ldquo;outside&rdquo;,&ldquo;tickcolor&rdquo;:&ldquo;rgba(51,51,51,1)&rdquo;,&ldquo;ticklen&rdquo;:3.65296803652968,&ldquo;tickwidth&rdquo;:0.66417600664176,&ldquo;showticklabels&rdquo;:true,&ldquo;tickfont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(77,77,77,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;tickangle&rdquo;:-0,&ldquo;showline&rdquo;:false,&ldquo;linecolor&rdquo;:null,&ldquo;linewidth&rdquo;:0,&ldquo;showgrid&rdquo;:true,&ldquo;gridcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;gridwidth&rdquo;:0.66417600664176,&ldquo;zeroline&rdquo;:false,&ldquo;anchor&rdquo;:&ldquo;y&rdquo;,&ldquo;title&rdquo;:&ldquo;height (cm)&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;hoverformat&rdquo;:&ldquo;.2f&rdquo;},&ldquo;yaxis&rdquo;:{&ldquo;domain&rdquo;:[0,1],&ldquo;type&rdquo;:&ldquo;linear&rdquo;,&ldquo;autorange&rdquo;:false,&ldquo;tickmode&rdquo;:&ldquo;array&rdquo;,&ldquo;range&rdquo;:[-35.25,740.25],&ldquo;ticktext&rdquo;:[&ldquo;0&rdquo;,&ldquo;200&rdquo;,&ldquo;400&rdquo;,&ldquo;600&rdquo;],&ldquo;tickvals&rdquo;:[0,200,400,600],&ldquo;ticks&rdquo;:&ldquo;outside&rdquo;,&ldquo;tickcolor&rdquo;:&ldquo;rgba(51,51,51,1)&rdquo;,&ldquo;ticklen&rdquo;:3.65296803652968,&ldquo;tickwidth&rdquo;:0.66417600664176,&ldquo;showticklabels&rdquo;:true,&ldquo;tickfont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(77,77,77,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;tickangle&rdquo;:-0,&ldquo;showline&rdquo;:false,&ldquo;linecolor&rdquo;:null,&ldquo;linewidth&rdquo;:0,&ldquo;showgrid&rdquo;:true,&ldquo;gridcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;gridwidth&rdquo;:0.66417600664176,&ldquo;zeroline&rdquo;:false,&ldquo;anchor&rdquo;:&ldquo;x&rdquo;,&ldquo;title&rdquo;:&ldquo;count&rdquo;,&ldquo;titlefont&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;hoverformat&rdquo;:&ldquo;.2f&rdquo;},&ldquo;shapes&rdquo;:[{&ldquo;type&rdquo;:&ldquo;rect&rdquo;,&ldquo;fillcolor&rdquo;:null,&ldquo;line&rdquo;:{&ldquo;color&rdquo;:null,&ldquo;width&rdquo;:0,&ldquo;linetype&rdquo;:[]},&ldquo;yref&rdquo;:&ldquo;paper&rdquo;,&ldquo;xref&rdquo;:&ldquo;paper&rdquo;,&ldquo;x0&rdquo;:0,&ldquo;x1&rdquo;:1,&ldquo;y0&rdquo;:0,&ldquo;y1&rdquo;:1}],&ldquo;showlegend&rdquo;:true,&ldquo;legend&rdquo;:{&ldquo;bgcolor&rdquo;:&ldquo;rgba(255,255,255,1)&rdquo;,&ldquo;bordercolor&rdquo;:&ldquo;transparent&rdquo;,&ldquo;borderwidth&rdquo;:1.88976377952756,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:11.689497716895},&ldquo;y&rdquo;:0.93503937007874},&ldquo;annotations&rdquo;:[{&ldquo;text&rdquo;:&ldquo;factor(people)&rdquo;,&ldquo;x&rdquo;:1.02,&ldquo;y&rdquo;:1,&ldquo;showarrow&rdquo;:false,&ldquo;ax&rdquo;:0,&ldquo;ay&rdquo;:0,&ldquo;font&rdquo;:{&ldquo;color&rdquo;:&ldquo;rgba(0,0,0,1)&rdquo;,&ldquo;family&rdquo;:&ldquo;&rdquo;,&ldquo;size&rdquo;:14.6118721461187},&ldquo;xref&rdquo;:&ldquo;paper&rdquo;,&ldquo;yref&rdquo;:&ldquo;paper&rdquo;,&ldquo;textangle&rdquo;:-0,&ldquo;xanchor&rdquo;:&ldquo;left&rdquo;,&ldquo;yanchor&rdquo;:&ldquo;bottom&rdquo;,&ldquo;legendTitle&rdquo;:true}],&ldquo;hovermode&rdquo;:&ldquo;closest&rdquo;},&ldquo;source&rdquo;:&ldquo;A&rdquo;,&ldquo;attrs&rdquo;:{&ldquo;2a3661f4fbba&rdquo;:{&ldquo;x&rdquo;:{},&ldquo;fill&rdquo;:{},&ldquo;colour&rdquo;:{},&ldquo;type&rdquo;:&ldquo;ggplotly&rdquo;},&ldquo;2a361abaa294&rdquo;:{&ldquo;colour&rdquo;:{},&ldquo;x&rdquo;:{},&ldquo;fill&rdquo;:{},&ldquo;colour.1&rdquo;:{}}},&ldquo;cur_data&rdquo;:&ldquo;2a3661f4fbba&rdquo;,&ldquo;visdat&rdquo;:{&ldquo;2a3661f4fbba&rdquo;:[&ldquo;function (y) &ldquo;,&ldquo;x&rdquo;],&ldquo;2a361abaa294&rdquo;:[&ldquo;function (y) &ldquo;,&ldquo;x&rdquo;]},&ldquo;config&rdquo;:{&ldquo;modeBarButtonsToAdd&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Collaborate&rdquo;,&ldquo;icon&rdquo;:{&ldquo;width&rdquo;:1000,&ldquo;ascent&rdquo;:500,&ldquo;descent&rdquo;:-50,&ldquo;path&rdquo;:&ldquo;M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z&rdquo;},&ldquo;click&rdquo;:&ldquo;function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == &lsquo;?viewer_pane=1&rsquo;) {\n          alert(&lsquo;To learn about plotly for collaboration, visit:\n <a href="https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');n" target="_blank">https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');n</a>        } else {\n          window.open(&lsquo;<a href="https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html'" target="_blank">https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html'</a>, &lsquo;_blank&rsquo;);\n        }\n      }&ldquo;}],&ldquo;cloud&rdquo;:false},&ldquo;highlight&rdquo;:{&ldquo;on&rdquo;:&ldquo;plotly_click&rdquo;,&ldquo;persistent&rdquo;:false,&ldquo;dynamic&rdquo;:false,&ldquo;selectize&rdquo;:false,&ldquo;opacityDim&rdquo;:0.2,&ldquo;selected&rdquo;:{&ldquo;opacity&rdquo;:1}},&ldquo;base_url&rdquo;:&ldquo;<a href="https://plot.ly&quot;},&quot;evals&quot;:[&quot;config.modeBarButtonsToAdd.0.click&quot;],&quot;jsHooks&quot;:{&quot;render&quot;:[{&quot;code&quot;:&quot;function(el" target="_blank">https://plot.ly&quot;},&quot;evals&quot;:[&quot;config.modeBarButtonsToAdd.0.click&quot;],&quot;jsHooks&quot;:{&quot;render&quot;:[{&quot;code&quot;:&quot;function(el</a>, x) { var ctConfig = crosstalk.var(&lsquo;plotlyCrosstalkOpts&rsquo;).set({\&ldquo;on\&rdquo;:\&ldquo;plotly_click\&ldquo;,\&ldquo;persistent\&rdquo;:false,\&ldquo;dynamic\&rdquo;:false,\&ldquo;selectize\&rdquo;:false,\&ldquo;opacityDim\&rdquo;:0.2,\&ldquo;selected\&rdquo;:{\&ldquo;opacity\&rdquo;:1}}); }&ldquo;,&ldquo;data&rdquo;:null}]}}</script><!--/html_preserve--></p>

<p>Now our overtext displays the higest density interval.</p>

<h2 id="overview">Overview</h2>

<p>That should give you a good start towards modifying <code>geom_hdi</code> for your own purposes or perhaps writing your own geom.</p>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="/post/geom_hdi_for_ggplot2.utf8/"><span
      aria-hidden="true">&larr;</span> Making a confidence interval ggplot2 `geom`</a></li>
    

    
    <li class="next"><a href="/post/compare_models/">Relative reliability of Models and variational Bayes <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Ben Smith &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

